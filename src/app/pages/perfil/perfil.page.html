<app-header [back]=true [pagina]="'/home'" [title]="'Ver Perfil'"></app-header>
<ion-content class="ion-padding">
  <ion-text class="ion-text-center" color="principal">
    <h1><b> {{auth.Usuario.nombre}} {{auth.Usuario.apellidos}} </b></h1>
  </ion-text>
  <ion-avatar (click)="opciones()">
    <img [src]="miimg">
  </ion-avatar>
  <br>
  <form [formGroup]="RegistroForm" (ngSubmit)="updateinfo()">
    <ion-item class="myitem">
      <ion-icon slot="start" color="principal" name="person-outline"></ion-icon>
      <ion-icon slot="end" src="/assets/icon/App_Icono_Editar.svg"></ion-icon>
      <ion-input type="text" name="name" formControlName="nombre" required></ion-input>
    </ion-item>
    <span class="span__error_card-number" *ngIf="nombre.touched && nombre.errors">
      ** Campo requerido
    </span>
    <ion-item class="myitem">
      <ion-icon slot="start" color="principal" name="person-outline"></ion-icon>
      <ion-icon slot="end" src="/assets/icon/App_Icono_Editar.svg"></ion-icon>
      <ion-input type="text" name="last-name" formControlName="apellido" required></ion-input>
    </ion-item>
    <span class="span__error_card-number" *ngIf="apellido.touched && apellido.errors">
      ** Campo requerido
    </span>
    <ion-item class="myitem">
      <ion-icon slot="start" src="/assets/icon/App_Icono_Email.svg"></ion-icon>
      <ion-icon slot="end" src="/assets/icon/App_Icono_Editar.svg"></ion-icon>
      <ion-input type="email" name="email" formControlName="email" required></ion-input>
    </ion-item>
    <span class="span__error_card-number" *ngIf="email.touched && email.errors">
      ** Formato de correo invalido
    </span>
    <ion-item class="myitem">
      <ion-icon slot="start" color="principal" name="call-outline"></ion-icon>
      <ion-icon slot="end" src="/assets/icon/App_Icono_Editar.svg"></ion-icon>
      <ion-input type="tel" name="tel" formControlName="telefono" (ionChange)="validacaracter()" minlength="10"
      maxLength="10" required></ion-input>
    </ion-item>
    <span class="span__error_card-number" *ngIf="telefono.touched && telefono.errors">
      ** telefono invalido
    </span>
    <ion-item class="myitem">
      <ion-icon slot="start" src="/assets/icon/App_Icono_Contrasena.svg"></ion-icon>
      <ion-label> ******* </ion-label>
    </ion-item>
    <ion-item class="ion-text-end">
      <ion-label class="mini" (click)="cambiarpass()">Actualizar Contrase√±a</ion-label>
    </ion-item>
  </form>
    <ion-button class="btnposition" color="principal" expand="block" shape="round"
      [disabled]="RegistroForm.invalid || email.touched== false && telefono.touched== false && nombre.touched== false && apellido.touched== false && profile_picture == ''" (click)="updateinfo()">
      Guardar
    </ion-button>
</ion-content>